#!/usr/bin/env python3
"""
summarizer_bullets.py
---------------------------------
Takes user input (Python code) and prints a bullet-point summary
of what the code does in plain English.
"""

import re

def summarize_code(code: str) -> str:
    summary = []

    # Detect imports
    imports = re.findall(r'^\s*import (\w+)', code, re.M)
    from_imports = re.findall(r'^\s*from (\w+) import (\w+)', code, re.M)
    if imports or from_imports:
        summary.append("Imports:")
        for imp in imports:
            summary.append(f"  - Imports the module '{imp}'")
        for frm, imp in from_imports:
            summary.append(f"  - From '{frm}' imports '{imp}'")

    # Detect functions
    funcs = re.findall(r'^\s*def (\w+)\s*\(', code, re.M)
    if funcs:
        summary.append("Functions:")
        for fn in funcs:
            summary.append(f"  - Defines a function '{fn}'")

    # Detect classes
    classes = re.findall(r'^\s*class (\w+)', code, re.M)
    if classes:
        summary.append("Classes:")
        for cls in classes:
            summary.append(f"  - Defines a class '{cls}'")

    # Detect assignments
    assigns = re.findall(r'(\w+)\s*=', code)
    if assigns:
        summary.append("Variables:")
        for var in set(assigns):
            summary.append(f"  - Assigns a value to variable '{var}'")

    if not summary:
        summary.append("No recognizable structures found. Code looks simple.")

    return "\n".join(summary)


if __name__ == "__main__":
    print("=== Bullet Point Code Summarizer ===")
    print("Paste your Python code below.")
    print("(Finish input with Ctrl+D on Mac/Linux or Ctrl+Z then Enter on Windows)\n")

    # Collect multiline input
    user_code_lines = []
    try:
        while True:
            line = input()
            user_code_lines.append(line)
    except EOFError:
        pass

    code_text = "\n".join(user_code_lines).strip()
    print("\n--- SUMMARY ---")
    if code_text:
        print(summarize_code(code_text))
    else:
        print("No code entered.")
